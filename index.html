<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Create Order</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }

        @media (min-width: 768px) {
            .md\:flex-row {
                flex-direction: row;
            }
            .md\:w-64 {
                width: 16rem;
            }
        }
    </style>
</head>

<body class="bg-gray-100">
    <div class="flex min-h-screen flex-col md:flex-row">
        <!-- Sidebar (unchanged) -->
        <aside class="w-full border-r bg-white md:w-64">
            <!-- ... (sidebar content remains the same) ... -->
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-x-hidden">
            <!-- Header (unchanged) -->
            <header class="flex h-14 items-center justify-between border-b bg-white px-4 lg:px-8">
                <!-- ... (header content remains the same) ... -->
            </header>

            <div class="p-6">
                <h1 class="text-2xl font-semibold mb-6">Create New Order</h1>

                <!-- Order Form -->
                <form id="orderForm" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="productImage">
                            Product Image URL
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="productImage" type="url" placeholder="Enter product image URL">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="productName">
                            Product Name
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="productName" type="text" placeholder="Enter product name">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="productPrice">
                            Product Price
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="productPrice" type="number" step="0.01" placeholder="Enter product price">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="productQuantity">
                            Quantity
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="productQuantity" type="number" placeholder="Enter quantity">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="productDiscount">
                            Discount (%)
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="productDiscount" type="number" step="0.1" placeholder="Enter discount percentage">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="amountPaid">
                            Amount Paid
                        </label>
                        <input
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="amountPaid" type="number" step="0.01" placeholder="Enter amount paid">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="paymentMethod">
                            Payment Method
                        </label>
                        <select
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="paymentMethod">
                            <option value="cash">Cash</option>
                            <option value="transfer">Transfer</option>
                            <option value="card">Card</option>
                        </select>
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="orderStatus">
                            Order Status
                        </label>
                        <select
                            class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                            id="orderStatus">
                            <option value="pending">Pending</option>
                            <option value="successful">Successful</option>
                            <option value="failed">Failed</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-between">
                        <button
                            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                            type="submit">
                            Create Order
                        </button>
                    </div>
                </form>

                <!-- Orders List -->
                <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
                    <h2 class="text-xl font-semibold mb-4">Orders List</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full leading-normal">
                            <thead>
                                <tr>
                                    <th
                                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                        Product
                                    </th>
                                    <th
                                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                        Details
                                    </th>
                                    <th
                                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                        Amount
                                    </th>
                                    <th
                                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                        Payment
                                    </th>
                                    <th
                                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                                        Status
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="ordersList">
                                <!-- Orders will be dynamically inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <script>
        function toggleDropdown() {
            const dropdown = document.getElementById('productsDropdown');
            const arrow = document.getElementById('dropdownArrow');
            dropdown.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }

        function toggleDropdown2() {
            const dropdown = document.getElementById('productsDropdown2');
            const arrow = document.getElementById('dropdownArrow2');
            dropdown.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }

        // Order management
        let orders = [];

        try {
            orders = JSON.parse(localStorage.getItem('orders')) || [];
        } catch (error) {
            alert('Error loading orders: ' + error.message);
        }

        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            try {
                const productImage = document.getElementById('productImage').value;
                const productName = document.getElementById('productName').value;
                const productPrice = parseFloat(document.getElementById('productPrice').value);
                const productQuantity = parseInt(document.getElementById('productQuantity').value);
                const productDiscount = parseFloat(document.getElementById('productDiscount').value);
                const amountPaid = parseFloat(document.getElementById('amountPaid').value);
                const paymentMethod = document.getElementById('paymentMethod').value;
                const orderStatus = document.getElementById('orderStatus').value;

                const newOrder = {
                    productImage,
                    productName,
                    productPrice,
                    productQuantity,
                    productDiscount,
                    amountPaid,
                    paymentMethod,
                    orderStatus
                };

                orders.push(newOrder);
                localStorage.setItem('orders', JSON.stringify(orders));
                renderOrders();
                this.reset();
                alert('Order created successfully!');
            } catch (error) {
                alert('Error creating order: ' + error.message);
            }
        });

        function renderOrders() {
            const ordersList = document.getElementById('ordersList');
            if (!ordersList) {
                alert('Error: ordersList element not found');
                return;
            }
            ordersList.innerHTML = '';
            try {
                orders.forEach(order => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 w-10 h-10">
                                    <img class="w-full h-full rounded-full"
                                        src="${order.productImage}"
                                        alt="${order.productName}" />
                                </div>
                                <div class="ml-3">
                                    <p class="text-gray-900 whitespace-no-wrap">
                                        ${order.productName}
                                    </p>
                                </div>
                            </div>
                        </td>
                        <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                            <p class="text-gray-900 whitespace-no-wrap">Price: $${order.productPrice.toFixed(2)}</p>
                            <p class="text-gray-600 whitespace-no-wrap">Quantity: ${order.productQuantity}</p>
                            <p class="text-gray-600 whitespace-no-wrap">Discount: ${order.productDiscount}%</p>
                        </td>
                        <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                            <p class="text-gray-900 whitespace-no-wrap">$${order.amountPaid.toFixed(2)}</p>
                        </td>
                        <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                            <p class="text-gray-900 whitespace-no-wrap">${order.paymentMethod}</p>
                        </td>
                        <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                            <span
                                class="relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight">
                                <span aria-hidden
                                    class="absolute inset-0 bg-${order.orderStatus === 'successful' ? 'green' : order.orderStatus === 'pending' ? 'yellow' : 'red'}-200 opacity-50 rounded-full"></span>
                                <span class="relative">${order.orderStatus}</span>
                            </span>
                        </td>
                    `;
                    ordersList.appendChild(row);
                });
            } catch (error) {
                alert('Error rendering orders: ' + error.message);
            }
        }

        // Initial render of orders
        renderOrders();
    </script>
</body>

</html>

